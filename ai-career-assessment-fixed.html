<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Career Readiness Assessment | AI Career Transformation</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        body { 
            font-family: 'Inter', sans-serif; 
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%); 
            min-height: 100vh; 
            color: white;
        }
        .glass {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
    </style>
</head>
<body>
    <div class="min-h-screen">
        <!-- Header -->
        <header class="py-6 px-4 border-b border-gray-700">
            <div class="max-w-4xl mx-auto flex justify-between items-center">
                <a href="index.html" class="text-2xl font-bold">AI Career Transformation</a>
                <nav>
                    <a href="roadmaps.html" class="text-blue-400 hover:text-blue-300 mr-4">Roadmaps</a>
                    <a href="component-detail.html" class="text-blue-400 hover:text-blue-300">Components</a>
                </nav>
            </div>
        </header>

        <main class="max-w-4xl mx-auto px-4 py-8">
            <!-- Assessment Header -->
            <div class="text-center mb-8">
                <h1 class="text-4xl font-bold mb-4">ðŸŽ¯ AI Career Readiness Assessment</h1>
                <p class="text-xl opacity-90 mb-6">Discover your AI transformation potential and get a personalized career roadmap</p>
                
                <!-- Pricing Toggle -->
                <div class="glass rounded-xl p-6 mb-8">
                    <div class="flex justify-center items-center gap-6 mb-4">
                        <div class="text-center">
                            <h3 class="text-lg font-semibold">Basic Assessment</h3>
                            <p class="text-2xl font-bold text-green-400">FREE</p>
                            <p class="text-sm opacity-75">Basic career guidance</p>
                        </div>
                        <div class="h-12 w-px bg-gray-500"></div>
                        <div class="text-center">
                            <h3 class="text-lg font-semibold">Premium Assessment</h3>
                            <p class="text-2xl font-bold text-blue-400">$29</p>
                            <p class="text-sm opacity-75">Detailed roadmap + resources</p>
                        </div>
                    </div>
                    
                    <div class="flex justify-center gap-4">
                        <button id="freeAssessment" class="bg-green-600 hover:bg-green-700 px-6 py-3 rounded-lg font-semibold transition-all">
                            Start Free Assessment
                        </button>
                        <button id="premiumAssessment" class="bg-blue-600 hover:bg-blue-700 px-6 py-3 rounded-lg font-semibold transition-all">
                            Get Premium Assessment
                        </button>
                    </div>
                    
                    <!-- Demo Link -->
                    <div class="mt-4 text-center">
                        <button id="demoPersonalizedRoadmap" class="text-green-400 hover:text-green-300 underline text-sm">
                            ðŸŽ¯ See Demo of Personalized Roadmap â†’
                        </button>
                    </div>
                </div>
            </div>

            <!-- Email Collection Section -->
            <div id="emailCollection" class="hidden">
                <div class="glass rounded-xl p-8 text-center">
                    <div class="mb-6">
                        <span class="text-5xl mb-4 block">ðŸ“§</span>
                        <h2 class="text-2xl font-bold mb-4">Get Your Results by Email</h2>
                        <p class="text-lg opacity-90 mb-6">Enter your email to receive your personalized AI Career Assessment results and recommendations.</p>
                    </div>

                    <form id="assessmentEmailForm" class="max-w-md mx-auto mb-6">
                        <div class="flex flex-col sm:flex-row gap-3">
                            <input type="email" id="userEmailInput" placeholder="Enter your email address" 
                                   class="flex-1 px-4 py-3 rounded-lg border border-gray-300 text-gray-900 bg-white placeholder-gray-500 focus:ring-2 focus:ring-blue-500 focus:border-transparent" 
                                   required>
                            <button type="submit" 
                                    class="bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-all font-semibold whitespace-nowrap">
                                Start Assessment
                            </button>
                        </div>
                    </form>
                    
                    <div class="flex flex-wrap justify-center gap-4 text-sm opacity-75">
                        <span>âœ… Detailed Career Analysis</span>
                        <span>âœ… Personalized Recommendations</span>
                        <span>âœ… Industry Insights</span>
                        <span>âœ… No Spam, Unsubscribe Anytime</span>
                    </div>
                    
                    <button onclick="skipEmail()" class="mt-4 text-blue-400 hover:text-blue-300 underline text-sm">
                        Skip and view results on screen only
                    </button>
                </div>
            </div>

            <!-- Assessment Form -->
            <div id="assessmentForm" class="hidden">
                <div class="glass rounded-xl p-8">
                    <div class="mb-6">
                        <h2 class="text-2xl font-bold mb-4">Career Assessment Questions</h2>
                        <div class="bg-gray-700 h-2 rounded-full mb-4">
                            <div id="progressBar" class="bg-blue-500 h-2 rounded-full transition-all" style="width: 0%"></div>
                        </div>
                        <p class="text-sm opacity-75">Question <span id="currentQuestion">1</span> of <span id="totalQuestions">10</span></p>
                    </div>

                    <!-- Question Container -->
                    <div id="questionContainer" class="mb-8">
                        <!-- Questions will be dynamically loaded here -->
                    </div>

                    <!-- Navigation -->
                    <div class="flex justify-between">
                        <button id="prevBtn" class="bg-gray-600 hover:bg-gray-700 px-6 py-3 rounded-lg font-semibold transition-all hidden">
                            Previous
                        </button>
                        <button id="nextBtn" class="bg-blue-600 hover:bg-blue-700 px-6 py-3 rounded-lg font-semibold transition-all ml-auto">
                            Next
                        </button>
                    </div>
                </div>
            </div>

            <!-- Results Section -->
            <div id="resultsSection" class="hidden">
                <div class="glass rounded-xl p-8">
                    <h2 class="text-3xl font-bold mb-6 text-center">Your AI Career Readiness Results</h2>
                    
                    <!-- Score Display -->
                    <div class="text-center mb-8">
                        <div class="text-6xl font-bold mb-2" id="scoreDisplay">--</div>
                        <p class="text-xl" id="scoreDescription">Calculating your readiness...</p>
                    </div>

                    <!-- Free Results -->
                    <div id="freeResults" class="hidden">
                        <div class="grid md:grid-cols-2 gap-6 mb-8">
                            <div class="bg-blue-900/30 p-6 rounded-lg">
                                <h3 class="text-xl font-bold mb-3">Your Industry Risk Level</h3>
                                <p id="riskLevel" class="text-lg">Medium Risk</p>
                            </div>
                            <div class="bg-green-900/30 p-6 rounded-lg">
                                <h3 class="text-xl font-bold mb-3">Recommended Focus</h3>
                                <p id="focusArea" class="text-lg">AI Skill Development</p>
                            </div>
                        </div>
                        
                        <!-- Upgrade Prompt -->
                        <div class="bg-gradient-to-r from-blue-900/40 to-purple-900/40 p-6 rounded-lg text-center">
                            <h3 class="text-xl font-bold mb-3">ðŸš€ Unlock Your Complete Career Roadmap</h3>
                            <p class="mb-4">Get detailed analysis, personalized action plans, and exclusive resources for just $29</p>
                            <button id="upgradeToPremium" class="bg-blue-600 hover:bg-blue-700 px-8 py-3 rounded-lg font-semibold transition-all">
                                Upgrade to Premium Results
                            </button>
                        </div>
                    </div>

                    <!-- Premium Results -->
                    <div id="premiumResults" class="hidden">
                        <div class="grid md:grid-cols-3 gap-6 mb-8">
                            <div class="bg-blue-900/30 p-6 rounded-lg">
                                <h3 class="text-lg font-bold mb-3">Skills Gap Analysis</h3>
                                <div id="skillsGap">
                                    <div class="mb-2">AI/ML Basics: <span class="text-yellow-400">60%</span></div>
                                    <div class="mb-2">Data Analysis: <span class="text-green-400">80%</span></div>
                                    <div class="mb-2">Digital Tools: <span class="text-red-400">40%</span></div>
                                </div>
                            </div>
                            <div class="bg-green-900/30 p-6 rounded-lg">
                                <h3 class="text-lg font-bold mb-3">Career Opportunities</h3>
                                <div id="opportunities">
                                    <div class="mb-2">âœ… AI-Enhanced Analyst</div>
                                    <div class="mb-2">âœ… Digital Transformation Lead</div>
                                    <div class="mb-2">â³ Machine Learning Engineer</div>
                                </div>
                            </div>
                            <div class="bg-purple-900/30 p-6 rounded-lg">
                                <h3 class="text-lg font-bold mb-3">Salary Potential</h3>
                                <div id="salaryPotential">
                                    <div class="mb-2">Current Level: â‚¹8-12L</div>
                                    <div class="mb-2">6 Months: â‚¹12-16L</div>
                                    <div class="mb-2">12 Months: â‚¹18-25L</div>
                                </div>
                            </div>
                        </div>

                        <!-- Action Plan -->
                        <div class="bg-gradient-to-r from-green-900/40 to-blue-900/40 p-6 rounded-lg">
                            <h3 class="text-xl font-bold mb-4">ðŸ“‹ Your 90-Day Action Plan</h3>
                            <div class="grid md:grid-cols-3 gap-4">
                                <div>
                                    <h4 class="font-semibold mb-2">Month 1: Foundation</h4>
                                    <ul class="text-sm space-y-1 opacity-90">
                                        <li>â€¢ Complete AI fundamentals course</li>
                                        <li>â€¢ Set up learning schedule</li>
                                        <li>â€¢ Join AI communities</li>
                                    </ul>
                                </div>
                                <div>
                                    <h4 class="font-semibold mb-2">Month 2: Skills</h4>
                                    <ul class="text-sm space-y-1 opacity-90">
                                        <li>â€¢ Data analysis certification</li>
                                        <li>â€¢ AI tool familiarity</li>
                                        <li>â€¢ Portfolio development</li>
                                    </ul>
                                </div>
                                <div>
                                    <h4 class="font-semibold mb-2">Month 3: Application</h4>
                                    <ul class="text-sm space-y-1 opacity-90">
                                        <li>â€¢ Apply AI to current role</li>
                                        <li>â€¢ Network with AI professionals</li>
                                        <li>â€¢ Explore new opportunities</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Personalized Roadmap Display -->
                    <div id="personalizedRoadmapSection" class="hidden mt-8">
                        <div class="bg-gradient-to-r from-purple-900/40 to-blue-900/40 p-6 rounded-lg">
                            <h3 class="text-2xl font-bold mb-4">ðŸŽ¯ Your Personalized Career Roadmap</h3>
                            <div id="personalizedRoadmapContent" class="text-left bg-black/20 p-4 rounded border">
                                <!-- Personalized content will be inserted here -->
                            </div>
                            <div class="mt-4 text-center">
                                <button id="downloadRoadmapBtn" class="bg-green-600 hover:bg-green-700 px-6 py-2 rounded-lg font-semibold mr-4">
                                    ðŸ“§ Email My Roadmap
                                </button>
                                <button id="shareRoadmapBtn" class="bg-blue-600 hover:bg-blue-700 px-6 py-2 rounded-lg font-semibold">
                                    ðŸ“± Share Results
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- CTA Section -->
                    <div class="text-center mt-8">
                        <button id="viewPersonalizedRoadmap" class="bg-green-600 hover:bg-green-700 px-8 py-3 rounded-lg font-semibold transition-all inline-block mr-4">
                            ðŸŽ¯ View Your Personalized Roadmap
                        </button>
                        <button id="bookCoaching" class="bg-purple-600 hover:bg-purple-700 px-8 py-3 rounded-lg font-semibold transition-all">
                            Book 1-on-1 Coaching ($150)
                        </button>
                    </div>
                </div>
            </div>
        </main>

        <!-- Footer -->
        <footer class="mt-16 py-8 px-4 border-t border-gray-700">
            <div class="max-w-4xl mx-auto text-center">
                <p>&copy; 2025 AI Career Transformation Platform. All rights reserved.</p>
                <div class="mt-4 space-x-4">
                    <a href="privacy-policy.html" class="text-gray-400 hover:text-white">Privacy Policy</a>
                    <a href="terms-of-service.html" class="text-gray-400 hover:text-white">Terms of Service</a>
                </div>
            </div>
        </footer>
    </div>

    <script>
        // Assessment Data
        const questions = [
            {
                question: "What is your current industry?",
                type: "select",
                options: ["IT & Technology", "Banking & Finance", "Healthcare", "Manufacturing", "Education", "Retail & E-commerce", "Customer Support", "Transportation & Logistics", "Consulting", "Government", "Media & Entertainment", "Real Estate", "Other"]
            },
            {
                question: "How many years of experience do you have?",
                type: "select", 
                options: ["0-2 years (Entry Level)", "3-5 years (Junior)", "6-10 years (Mid Level)", "11-15 years (Senior)", "15+ years (Leadership)"]
            },
            {
                question: "What is your primary job function?",
                type: "select",
                options: ["Software Development/Coding", "Data Entry/Processing", "Customer Service/Support", "Data Analysis/Reporting", "Design/Creative", "Team Management", "Sales/Business Development", "Operations/Process Management", "Strategy/Planning", "Administrative", "Marketing", "Quality Assurance", "Other"]
            },
            {
                question: "Where do you primarily work?",
                type: "select",
                options: ["Metro City (Mumbai, Delhi, Bangalore, Chennai, Hyderabad, Pune)", "Tier 2 City (Ahmedabad, Jaipur, Lucknow, Kochi, etc.)", "Tier 3 City/Town", "Remote/Work from Home", "International Location"]
            },
            {
                question: "How familiar are you with AI tools? (ChatGPT, Copilot, Claude, etc.)",
                type: "scale",
                scale: ["Never used any", "Heard of them only", "Basic understanding", "Some hands-on experience", "Very experienced user"]
            },
            {
                question: "How often do you currently use AI tools in your work?",
                type: "scale",
                scale: ["Never", "Rarely (monthly)", "Sometimes (weekly)", "Often (few times per week)", "Daily"]
            },
            {
                question: "How often do you use data analysis in your work?",
                type: "scale",
                scale: ["Never", "Rarely", "Sometimes", "Often", "Daily basis"]
            },
            {
                question: "What percentage of your daily tasks are repetitive/routine?",
                type: "select",
                options: ["0-25% (Mostly strategic/creative)", "26-50% (Balanced mix)", "51-75% (Mostly routine)", "76-100% (Almost all repetitive)"]
            },
            {
                question: "How much customer/client interaction does your role involve?",
                type: "select",
                options: ["Primarily customer-facing", "Regular customer interaction", "Occasional customer contact", "Rarely interact with customers", "No customer interaction"]
            },
            {
                question: "How would you rate the creativity/strategic thinking required in your role?",
                type: "scale",
                scale: ["Very low (follow procedures)", "Low (some decision making)", "Medium (regular problem solving)", "High (creative solutions)", "Very high (strategic planning)"]
            },
            {
                question: "How would you rate your technical adaptability?",
                type: "scale",
                scale: ["Very low (struggle with new tech)", "Low (need significant help)", "Average (learn with guidance)", "High (quick to adapt)", "Very high (tech early adopter)"]
            },
            {
                question: "Are you concerned about AI replacing your job?",
                type: "scale",
                scale: ["Not concerned at all", "Slightly concerned", "Moderately concerned", "Very concerned", "Extremely concerned"]
            },
            {
                question: "How willing are you to learn new technology skills?",
                type: "scale",
                scale: ["Not willing", "Slightly willing", "Moderately willing", "Very willing", "Extremely eager"]
            },
            {
                question: "What is your primary career goal?",
                type: "select",
                options: ["Stay in current role but upskill", "Get promoted within company", "Change to AI-related role", "Switch industries completely", "Start own business", "Become freelancer/consultant", "Retire early", "Complete career pivot"]
            },
            {
                question: "How much time can you realistically dedicate to learning per week?",
                type: "select",
                options: ["1-2 hours (very limited)", "3-5 hours (weekends mostly)", "6-10 hours (dedicated effort)", "11-15 hours (serious commitment)", "15+ hours (intensive learning)"]
            },
            {
                question: "What's your biggest career challenge right now?",
                type: "select",
                options: ["Lack of relevant skills", "No clear career direction", "Limited growth opportunities", "Work-life balance issues", "Financial constraints", "Age-related concerns", "Industry declining", "Competition from AI/automation", "Lack of networking", "Geographical limitations"]
            },
            {
                question: "How would you rate your current job satisfaction?",
                type: "scale",
                scale: ["Very unsatisfied", "Unsatisfied", "Neutral", "Satisfied", "Very satisfied"]
            },
            {
                question: "What is your annual income range? (This helps us provide relevant salary benchmarks)",
                type: "select",
                options: ["Below â‚¹3 LPA", "â‚¹3-6 LPA", "â‚¹6-10 LPA", "â‚¹10-15 LPA", "â‚¹15-25 LPA", "â‚¹25-40 LPA", "â‚¹40+ LPA", "Prefer not to say"]
            },
            {
                question: "Which AI tools have you actually used? (Select all that apply)",
                type: "multiselect",
                options: ["ChatGPT", "Google Bard/Gemini", "Claude (Anthropic)", "Microsoft Copilot", "GitHub Copilot", "Midjourney/DALL-E", "Excel AI Features", "Grammarly AI", "Industry-specific AI tools", "None of these"]
            }
        ];

        let currentQuestionIndex = 0;
        let answers = [];
        let assessmentType = 'free';
        let userEmail = '';

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            document.getElementById('freeAssessment').addEventListener('click', () => startAssessment('free'));
            document.getElementById('premiumAssessment').addEventListener('click', () => startAssessment('premium'));
            document.getElementById('nextBtn').addEventListener('click', nextQuestion);
            document.getElementById('prevBtn').addEventListener('click', prevQuestion);
            
            // Demo personalized roadmap
            document.getElementById('demoPersonalizedRoadmap').addEventListener('click', showDemoRoadmap);
            
            // Email collection form
            document.getElementById('assessmentEmailForm').addEventListener('submit', function(e) {
                e.preventDefault();
                const email = document.getElementById('userEmailInput').value;
                if (email && email.includes('@')) {
                    userEmail = email;
                    startQuestionnaire();
                } else {
                    alert('Please enter a valid email address');
                }
            });
        });

        function skipEmail() {
            userEmail = '';
            startQuestionnaire();
        }
        
        function startQuestionnaire() {
            document.getElementById('emailCollection').classList.add('hidden');
            document.getElementById('assessmentForm').classList.remove('hidden');
            loadQuestion();
        }

        function startAssessment(type) {
            assessmentType = type;
            
            if (type === 'premium') {
                // In a real implementation, integrate with Stripe here
                if (!confirm('This will redirect you to payment. Continue?')) {
                    return;
                }
                // TODO: Integrate with Stripe payment
                alert('Payment integration coming soon! For now, enjoy the premium assessment for free.');
            }
            
            document.querySelector('.glass').style.display = 'none';
            document.getElementById('emailCollection').classList.remove('hidden');
        }

        function loadQuestion() {
            const question = questions[currentQuestionIndex];
            const container = document.getElementById('questionContainer');
            
            let html = `<h3 class="text-xl font-bold mb-4">${question.question}</h3>`;
            
            if (question.type === 'select') {
                html += '<div class="space-y-2">';
                question.options.forEach((option, index) => {
                    html += `
                        <label class="block p-3 bg-gray-700/50 rounded-lg cursor-pointer hover:bg-gray-700 transition-all">
                            <input type="radio" name="question${currentQuestionIndex}" value="${index}" class="mr-3">
                            ${option}
                        </label>
                    `;
                });
                html += '</div>';
            } else if (question.type === 'scale') {
                html += '<div class="space-y-2">';
                question.scale.forEach((option, index) => {
                    html += `
                        <label class="block p-3 bg-gray-700/50 rounded-lg cursor-pointer hover:bg-gray-700 transition-all">
                            <input type="radio" name="question${currentQuestionIndex}" value="${index}" class="mr-3">
                            ${option}
                        </label>
                    `;
                });
                html += '</div>';
            } else if (question.type === 'multiselect') {
                html += '<div class="space-y-2">';
                html += '<p class="text-sm text-gray-400 mb-3">You can select multiple options:</p>';
                question.options.forEach((option, index) => {
                    html += `
                        <label class="block p-3 bg-gray-700/50 rounded-lg cursor-pointer hover:bg-gray-700 transition-all">
                            <input type="checkbox" name="question${currentQuestionIndex}" value="${index}" class="mr-3">
                            ${option}
                        </label>
                    `;
                });
                html += '</div>';
            }
            
            container.innerHTML = html;
            
            // Update progress
            document.getElementById('currentQuestion').textContent = currentQuestionIndex + 1;
            document.getElementById('totalQuestions').textContent = questions.length;
            document.getElementById('progressBar').style.width = `${((currentQuestionIndex + 1) / questions.length) * 100}%`;
            
            // Update navigation
            document.getElementById('prevBtn').classList.toggle('hidden', currentQuestionIndex === 0);
            document.getElementById('nextBtn').textContent = currentQuestionIndex === questions.length - 1 ? 'Get Results' : 'Next';
        }

        function nextQuestion() {
            const question = questions[currentQuestionIndex];
            
            if (question.type === 'multiselect') {
                const selected = document.querySelectorAll(`input[name="question${currentQuestionIndex}"]:checked`);
                if (selected.length === 0) {
                    alert('Please select at least one option before proceeding.');
                    return;
                }
                // Store array of selected values for multiselect
                answers[currentQuestionIndex] = Array.from(selected).map(input => parseInt(input.value));
            } else {
                const selected = document.querySelector(`input[name="question${currentQuestionIndex}"]:checked`);
                if (!selected) {
                    alert('Please select an answer before proceeding.');
                    return;
                }
                answers[currentQuestionIndex] = parseInt(selected.value);
            }
            
            if (currentQuestionIndex === questions.length - 1) {
                showResults();
            } else {
                currentQuestionIndex++;
                loadQuestion();
            }
        }

        function prevQuestion() {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                loadQuestion();
            }
        }

        function showResults() {
            document.getElementById('assessmentForm').classList.add('hidden');
            document.getElementById('resultsSection').classList.remove('hidden');
            
            // Calculate both AI Readiness Score and Automation Risk Score
            const scores = calculateComprehensiveScores();
            const readinessScore = scores.readiness;
            const riskScore = scores.risk;
            
            document.getElementById('scoreDisplay').textContent = readinessScore + '%';
            
            let description = '';
            if (readinessScore >= 80) description = 'Excellent AI Readiness!';
            else if (readinessScore >= 60) description = 'Good Foundation for AI';
            else if (readinessScore >= 40) description = 'Moderate AI Readiness';
            else description = 'Needs AI Skill Development';
            
            document.getElementById('scoreDescription').textContent = description;
            
            // Display risk assessment
            let riskDescription = '';
            if (riskScore >= 70) riskDescription = 'High Automation Risk - Immediate Action Required';
            else if (riskScore >= 50) riskDescription = 'Medium Risk - Proactive Learning Needed';
            else if (riskScore >= 30) riskDescription = 'Moderate Risk - Stay Ahead of Changes';
            else riskDescription = 'Low Risk - Focus on Growth Opportunities';
            
            // Update UI to show both scores
            document.getElementById('scoreDescription').innerHTML = `
                <div class="space-y-2">
                    <div>AI Readiness: <span class="font-bold">${description}</span></div>
                    <div>Automation Risk: <span class="font-bold text-${riskScore >= 70 ? 'red' : riskScore >= 50 ? 'yellow' : 'green'}-400">${riskDescription}</span></div>
                </div>
            `;
            
            if (assessmentType === 'free') {
                document.getElementById('freeResults').classList.remove('hidden');
                document.getElementById('upgradeToPremium').addEventListener('click', () => {
                    // TODO: Integrate payment for upgrade
                    alert('Payment integration coming soon!');
                });
            } else {
                document.getElementById('premiumResults').classList.remove('hidden');
            }
            
            // Track conversion
            if (typeof gtag !== 'undefined') {
                gtag('event', 'assessment_completed', {
                    'event_category': 'engagement',
                    'event_label': assessmentType,
                    'value': readinessScore
                });
            }
            
            // Send results via email if user provided email
            if (userEmail) {
                sendResultsEmail(readinessScore, description, assessmentType, riskScore, riskDescription);
            }
            
            // Setup personalized roadmap functionality
            setupPersonalizedRoadmapDisplay(readinessScore, description, assessmentType, riskScore, riskDescription);
        }
        
        function calculateComprehensiveScores() {
            // AI Readiness Score (questions 4, 5, 6, 10, 12)
            let readinessScore = 0;
            readinessScore += (answers[4] || 0) * 20; // AI familiarity
            readinessScore += (answers[5] || 0) * 15; // AI usage frequency  
            readinessScore += (answers[10] || 0) * 20; // Technical adaptability
            readinessScore += (answers[12] || 0) * 25; // Learning willingness
            readinessScore += (answers[6] || 0) * 10; // Data analysis usage
            readinessScore = Math.min(100, readinessScore);
            
            // Automation Risk Score (reverse scoring for some questions)
            let riskScore = 50; // baseline risk
            
            // Industry risk (question 0)
            const industryRisk = {
                0: 15, // IT & Technology - high but manageable
                1: 20, // Banking & Finance - high automation
                2: 10, // Healthcare - lower risk due to human element
                3: 25, // Manufacturing - very high automation
                4: 8,  // Education - lower risk
                5: 18, // Retail & E-commerce - high automation
                6: 22, // Customer Support - very high automation risk
                7: 20, // Transportation - automation threats
                8: 12, // Consulting - lower risk
                9: 5,  // Government - slower automation
                10: 15, // Media & Entertainment - moderate risk
                11: 10, // Real Estate - lower risk
                12: 15  // Other - average risk
            };
            riskScore += industryRisk[answers[0]] || 15;
            
            // Job function risk (question 2)
            const jobFunctionRisk = {
                0: 8,  // Software Development - adaptable
                1: 30, // Data Entry - very high risk
                2: 25, // Customer Service - high automation
                3: 15, // Data Analysis - moderate risk with AI augmentation
                4: 5,  // Design/Creative - low risk
                5: 2,  // Team Management - very low risk
                6: 8,  // Sales - moderate risk but relationship-based
                7: 20, // Operations - high automation potential
                8: 0,  // Strategy - very low risk
                9: 22, // Administrative - high risk
                10: 12, // Marketing - moderate risk
                11: 18, // QA - moderate-high risk
                12: 15  // Other - average
            };
            riskScore += jobFunctionRisk[answers[2]] || 15;
            
            // Routine tasks percentage (question 7)
            const routineRisk = [5, 15, 25, 35]; // 0-25%, 26-50%, 51-75%, 76-100%
            riskScore += routineRisk[answers[7]] || 20;
            
            // Customer interaction (question 8) - reduce risk
            const customerBonus = [-10, -5, 0, 5, 10]; // more interaction = less risk
            riskScore += customerBonus[answers[8]] || 0;
            
            // Creativity level (question 9) - reduce risk
            const creativityBonus = [15, 10, 5, 0, -10]; // more creativity = less risk
            riskScore += creativityBonus[answers[9]] || 5;
            
            // AI familiarity reduces risk (question 4)
            const aiBonus = [10, 5, 0, -5, -10]; // more AI knowledge = less risk
            riskScore += aiBonus[answers[4]] || 5;
            
            // Technical adaptability reduces risk (question 10)
            const techBonus = [15, 10, 5, 0, -10]; // higher adaptability = less risk
            riskScore += techBonus[answers[10]] || 5;
            
            riskScore = Math.max(0, Math.min(100, riskScore));
            
            return {
                readiness: Math.round(readinessScore),
                risk: Math.round(riskScore)
            };
        }
        
        function setupPersonalizedRoadmapDisplay(readinessScore, description, type, riskScore, riskDescription) {
            // Store results for roadmap display
            const roadmapData = {
                readinessScore: readinessScore,
                riskScore: riskScore,
                description: description,
                riskDescription: riskDescription,
                type: type,
                industry: getAnswerText(0),
                experience: getAnswerText(1),
                jobFunction: getAnswerText(2),
                workLocation: getAnswerText(3),
                goal: getAnswerText(13),
                timeAvailable: getAnswerText(14),
                biggestChallenge: getAnswerText(15),
                detailedResults: generateDetailedResults(readinessScore, description, type, riskScore),
                survivalContent: generateHyperPersonalizedRoadmap()
            };
            
            // Set up button click handler
            document.getElementById('viewPersonalizedRoadmap').addEventListener('click', function() {
                showPersonalizedRoadmap(roadmapData);
            });
            
            // Set up email roadmap button
            document.getElementById('downloadRoadmapBtn')?.addEventListener('click', function() {
                emailPersonalizedRoadmap(roadmapData);
            });
            
            // Set up share button
            document.getElementById('shareRoadmapBtn')?.addEventListener('click', function() {
                shareRoadmapResults(roadmapData);
            });
        }
        
        function showPersonalizedRoadmap(data) {
            // Hide the CTA section and show the roadmap
            document.querySelector('.text-center.mt-8').style.display = 'none';
            document.getElementById('personalizedRoadmapSection').classList.remove('hidden');
            
            // Format and display the personalized content
            const roadmapHTML = `
                <div class="space-y-4">
                    <div class="bg-gradient-to-r from-green-900/30 to-blue-900/30 p-4 rounded">
                        <h4 class="text-lg font-bold text-green-400 mb-2">ðŸ“Š Your Assessment Summary</h4>
                        <p><strong>Industry:</strong> ${data.industry}</p>
                        <p><strong>Experience:</strong> ${data.experience}</p>
                        <p><strong>AI Readiness Score:</strong> ${data.score}% - ${data.description}</p>
                        <p><strong>Career Goal:</strong> ${data.goal}</p>
                    </div>
                    
                    <div class="bg-gradient-to-r from-purple-900/30 to-red-900/30 p-4 rounded">
                        <h4 class="text-lg font-bold text-yellow-400 mb-2">ðŸš¨ Your Personalized Survival Guide</h4>
                        <pre class="text-sm text-left whitespace-pre-wrap font-mono text-gray-200">${data.survivalContent}</pre>
                    </div>
                    
                    <div class="bg-gradient-to-r from-blue-900/30 to-purple-900/30 p-4 rounded">
                        <h4 class="text-lg font-bold text-blue-400 mb-2">ðŸŽ¯ Complete Transformation Plan</h4>
                        <pre class="text-sm text-left whitespace-pre-wrap font-mono text-gray-200 max-h-96 overflow-y-auto">${data.detailedResults}</pre>
                    </div>
                </div>
            `;
            
            document.getElementById('personalizedRoadmapContent').innerHTML = roadmapHTML;
            
            // Scroll to the roadmap section
            document.getElementById('personalizedRoadmapSection').scrollIntoView({ 
                behavior: 'smooth' 
            });
        }
        
        function emailPersonalizedRoadmap(data) {
            if (!userEmail) {
                const email = prompt('Enter your email address to receive your personalized roadmap:');
                if (!email || !email.includes('@')) {
                    alert('Please enter a valid email address');
                    return;
                }
                userEmail = email;
            }
            
            // Send the roadmap via email
            const emailData = {
                name: 'AI Career Transformation Team',
                email: 'roadmap@ai-career-transformation.com',
                subject: `ðŸŽ¯ Your Complete Personalized AI Career Roadmap - ${data.industry} Professional`,
                message: `Hello!

Here's your complete personalized AI Career Roadmap based on your assessment:

ASSESSMENT SUMMARY:
===================
â€¢ Industry: ${data.industry}
â€¢ Experience: ${data.experience}
â€¢ AI Readiness Score: ${data.score}% - ${data.description}
â€¢ Career Goal: ${data.goal}

${data.survivalContent}

COMPLETE TRANSFORMATION PLAN:
=============================
${data.detailedResults}

Continue your transformation: https://ai-career-transformation.surge.sh

Best regards,
AI Career Transformation Team`,
                _replyto: userEmail,
                _template: 'box',
                _captcha: false
            };
            
            fetch(`https://formsubmit.co/${userEmail}`, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                    'Accept': 'application/json'
                },
                body: JSON.stringify(emailData)
            }).then(response => {
                if (response.ok) {
                    alert(`âœ… Your personalized roadmap has been sent to ${userEmail}!`);
                } else {
                    alert('âš ï¸ Email delivery failed. Please try again or contact support.');
                }
            }).catch(error => {
                alert('âš ï¸ Email delivery failed. Please try again or contact support.');
            });
        }
        
        function shareRoadmapResults(data) {
            const shareText = `ðŸŽ¯ I just completed my AI Career Assessment! 

My Results:
â€¢ Industry: ${data.industry}
â€¢ AI Readiness: ${data.score}% - ${data.description}
â€¢ Goal: ${data.goal}

Get your personalized AI career roadmap: https://ai-career-transformation.surge.sh/ai-career-assessment.html`;
            
            if (navigator.share) {
                navigator.share({
                    title: 'My AI Career Assessment Results',
                    text: shareText,
                    url: 'https://ai-career-transformation.surge.sh/ai-career-assessment.html'
                });
            } else {
                // Fallback: copy to clipboard
                navigator.clipboard.writeText(shareText).then(() => {
                    alert('âœ… Results copied to clipboard! You can paste and share on social media.');
                }).catch(() => {
                    alert('ðŸ“± Share text:\n\n' + shareText);
                });
            }
        }
        
        function showDemoRoadmap() {
            // Create demo data for Healthcare professional
            const demoData = {
                score: 65,
                description: 'Good Foundation for AI',
                type: 'free',
                industry: 'Healthcare',
                experience: '6-10 years',
                goal: 'Get promoted',
                detailedResults: generateDetailedResults(65, 'Good Foundation for AI', 'free'),
                survivalContent: generatePersonalizedSurvivalContent(65, 'Healthcare', '6-10 years', 'Get promoted')
            };
            
            // Show demo results
            document.querySelector('.glass').style.display = 'none';
            document.getElementById('resultsSection').classList.remove('hidden');
            document.getElementById('scoreDisplay').textContent = '65%';
            document.getElementById('scoreDescription').textContent = 'Good Foundation for AI';
            document.getElementById('freeResults').classList.remove('hidden');
            
            // Set up demo roadmap
            setupPersonalizedRoadmapDisplay(65, 'Good Foundation for AI', 'free');
            
            // Add demo notice
            const demoNotice = document.createElement('div');
            demoNotice.className = 'bg-yellow-900/40 p-4 rounded-lg mb-6 border border-yellow-600';
            demoNotice.innerHTML = `
                <h4 class="text-yellow-400 font-bold mb-2">ðŸŽ­ Demo Mode</h4>
                <p class="text-yellow-200">This is a sample Healthcare professional's personalized roadmap. Take the real assessment to get your own customized plan!</p>
                <button onclick="location.reload()" class="mt-2 bg-blue-600 hover:bg-blue-700 px-4 py-2 rounded text-sm">
                    Take Real Assessment
                </button>
            `;
            
            document.getElementById('resultsSection').querySelector('.glass').prepend(demoNotice);
        }

        function sendResultsEmail(score, description, type) {
            // Save assessment result for admin tracking
            const assessmentResults = JSON.parse(localStorage.getItem('assessmentResults') || '[]');
            const result = {
                email: userEmail,
                score: score,
                description: description,
                type: type,
                date: new Date().toISOString(),
                answers: answers
            };
            assessmentResults.push(result);
            localStorage.setItem('assessmentResults', JSON.stringify(assessmentResults));
            
            // Create detailed results for email
            const detailedResults = generateDetailedResults(score, description, type);
            
            // ADMIN NOTIFICATION: Send you an email about new assessment completion
            const adminNotification = {
                name: 'AI Career Assessment Platform',
                email: 'noreply@ai-career-transformation.surge.sh',
                subject: `ðŸŽ¯ Assessment Completed: ${score}/100 - ${userEmail}`,
                message: `NEW ASSESSMENT COMPLETION!

Email: ${userEmail}
Score: ${score}/100
Level: ${description}
Type: ${type}
Date: ${new Date().toLocaleString()}

ASSESSMENT DETAILS:
${detailedResults.substring(0, 500)}...

RECOMMENDED ACTIONS:
1. ${score >= 80 ? 'Offer advanced coaching services ($300/hour)' : score >= 60 ? 'Offer integration coaching ($150/hour)' : score >= 40 ? 'Offer skills development program' : 'Offer emergency transformation plan'}
2. Follow up within 2 hours while interest is high
3. Send personalized content based on score
4. Track premium upgrade potential

Dashboard: https://ai-career-transformation.surge.sh/admin.html
User Level: ${description}`,
                _captcha: false,
                _template: 'table'
            };
            
            // Send admin notification via FormSubmit
            fetch('https://formsubmit.co/ysgill@yahoo.com', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                    'Accept': 'application/json'
                },
                body: JSON.stringify(adminNotification)
            }).then(response => {
                if (response.ok) {
                    console.log('âœ… Admin notification sent for assessment completion!');
                    // Now send results to user's email
                    sendResultsToUser();
                } else {
                    console.log('Admin notification failed, but sending results to user...');
                    sendResultsToUser();
                }
            }).catch(error => {
                console.log('Admin notification failed, but sending results to user...');
                sendResultsToUser();
            });
            
            function sendResultsToUser() {
                // Send assessment results directly to user's email via FormSubmit
                const userResultsData = {
                    name: 'AI Career Transformation Team',
                    email: 'results@ai-career-transformation.com',
                    subject: `ðŸŽ¯ Your AI Career Assessment Results: ${score}/100 - ${description}`,
                    message: `Hello!

Congratulations on completing your AI Career Assessment!

Here are your personalized results:

SCORE: ${score}/100
LEVEL: ${description}
ASSESSMENT TYPE: ${type}

${detailedResults}

ðŸŽ¯ YOUR PERSONALIZED SURVIVAL GUIDE:
Based on your assessment results, here's your customized AI Career Survival Guide for ${getAnswerText(0)} professionals:

${generatePersonalizedSurvivalContent(score, getAnswerText(0), getAnswerText(1), getAnswerText(6))}

ðŸš€ RECOMMENDED NEXT STEPS:
${score >= 80 ? 'â€¢ Consider our Advanced AI Leadership Coaching ($300/hour)\nâ€¢ Apply for executive AI transformation roles\nâ€¢ Mentor others in AI adoption' : 
  score >= 60 ? 'â€¢ Book our Rapid Integration Coaching ($150/hour)\nâ€¢ Implement AI tools in your current role\nâ€¢ Join AI professional networks' :
  score >= 40 ? 'â€¢ Start with our Essential Skills Development program\nâ€¢ Take fundamental AI courses\nâ€¢ Practice with AI tools daily' :
  'â€¢ Begin our Emergency Transformation plan immediately\nâ€¢ Dedicate 1 hour daily to AI learning\nâ€¢ Focus on basic AI literacy first'}

Continue your transformation: https://ai-career-transformation.surge.sh

Questions? Reply to this email or visit our platform.

Best regards,
AI Career Transformation Team

P.S. This assessment was personalized for your ${getAnswerText(0)} background and ${getAnswerText(6).toLowerCase()} goal. Your survival guide above is customized based on your ${score}% readiness score.`,
                    _replyto: userEmail,
                    _autoresponse: `Thank you for taking the AI Career Assessment! Your detailed results are on their way to your inbox.

Based on your score of ${score}/100, you're in the "${description}" category. Visit our platform for next steps: https://ai-career-transformation.surge.sh`,
                    _template: 'box',
                    _captcha: false,
                    _next: 'https://ai-career-transformation.surge.sh/ai-career-assessment.html?sent=true'
                };
                
                // Primary method: FormSubmit to user's email
                console.log(`ðŸ“§ Sending assessment results to ${userEmail}...`);
                
                fetch(`https://formsubmit.co/${userEmail}`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Accept': 'application/json'
                    },
                    body: JSON.stringify(userResultsData)
                }).then(response => {
                    console.log('FormSubmit Response:', response.status);
                    if (response.ok || response.status === 200) {
                        console.log('âœ… Assessment results sent to user email successfully!');
                        showEmailConfirmation(true);
                    } else {
                        console.log('FormSubmit failed with status:', response.status);
                        tryAlternativeEmailMethod();
                    }
                }).catch(error => {
                    console.log('FormSubmit error:', error);
                    tryAlternativeEmailMethod();
                });
                
                function tryAlternativeEmailMethod() {
                    console.log('ðŸ”„ Trying alternative email method...');
                    
                    // Alternative method: Use Netlify Forms as backup
                    const formData = new FormData();
                    formData.append('form-name', 'assessment-results');
                    formData.append('email', userEmail);
                    formData.append('subject', `ðŸŽ¯ Your AI Assessment Results: ${score}/100`);
                    formData.append('message', detailedResults);
                    formData.append('score', score);
                    formData.append('level', description);
                    
                    fetch('/', {
                        method: 'POST',
                        headers: { "Content-Type": "application/x-www-form-urlencoded" },
                        body: new URLSearchParams(formData).toString()
                    }).then(response => {
                        if (response.ok) {
                            console.log('âœ… Results logged via Netlify Forms backup!');
                            showEmailConfirmation(true);
                        } else {
                            console.log('âš ï¸ Both email methods failed, showing results on page only');
                            showEmailConfirmation(false);
                        }
                    }).catch(error => {
                        console.log('âš ï¸ All email delivery methods failed');
                        showEmailConfirmation(false);
                        
                        // Save to localStorage as final backup
                        const emailBackup = {
                            email: userEmail,
                            results: detailedResults,
                            score: score,
                            timestamp: new Date().toISOString(),
                            status: 'email_delivery_failed'
                        };
                        localStorage.setItem('failedEmailDelivery', JSON.stringify(emailBackup));
                        console.log('ðŸ“ Results saved to localStorage for manual follow-up');
                    });
                }
            }
        }
        
        function generateDetailedResults(score, description, type) {
            // Extract individual responses for hyper-personalization
            const industry = getAnswerText(0);
            const experience = getAnswerText(1);
            const aiFamiliarity = answers[2] || 0;
            const dataUsage = answers[3] || 0;
            const aiConcern = answers[4] || 0;
            const learningWillingness = answers[5] || 0;
            const careerGoal = getAnswerText(6);
            const timeAvailable = getAnswerText(7);
            const biggestChallenge = getAnswerText(8);
            const jobSatisfaction = answers[9] || 0;

            let results = `ðŸŽ¯ YOUR PERSONALIZED AI CAREER TRANSFORMATION PLAN\n`;
            results += `=====================================================\n\n`;
            
            results += `INDIVIDUAL PROFILE ANALYSIS:\n`;
            results += `â€¢ Industry: ${industry}\n`;
            results += `â€¢ Experience Level: ${experience}\n`;
            results += `â€¢ AI Readiness Score: ${score}%\n`;
            results += `â€¢ Career Goal: ${careerGoal}\n`;
            results += `â€¢ Time Available: ${timeAvailable}\n`;
            results += `â€¢ Primary Challenge: ${biggestChallenge}\n\n`;

            // Hyper-personalized survival strategy based on ALL individual answers
            results += `ðŸš€ YOUR CUSTOMIZED SURVIVAL STRATEGY:\n`;
            results += `=====================================\n\n`;
            
            // Industry-specific insights
            results += `ðŸ“ ${industry.toUpperCase()} INDUSTRY ANALYSIS:\n`;
            switch(industry.toLowerCase()) {
                case 'healthcare':
                    results += `â€¢ AI Impact: 85% of diagnostic tasks will be AI-assisted by 2027\n`;
                    results += `â€¢ Key Tools: Medical AI platforms, predictive analytics, telemedicine AI\n`;
                    results += `â€¢ Opportunity: AI-Enhanced Clinical Roles (+40% salary potential)\n`;
                    break;
                case 'finance':
                    results += `â€¢ AI Impact: 60% of financial analysis now uses AI algorithms\n`;
                    results += `â€¢ Key Tools: Robo-advisors, risk assessment AI, fraud detection\n`;
                    results += `â€¢ Opportunity: AI Financial Analyst (+50% salary potential)\n`;
                    break;
                case 'manufacturing':
                    results += `â€¢ AI Impact: 70% of production will integrate AI by 2026\n`;
                    results += `â€¢ Key Tools: Predictive maintenance, quality control AI, robotics\n`;
                    results += `â€¢ Opportunity: AI Operations Manager (+35% salary potential)\n`;
                    break;
                case 'education':
                    results += `â€¢ AI Impact: Personalized learning platforms transforming education\n`;
                    results += `â€¢ Key Tools: Adaptive learning AI, assessment automation, tutoring bots\n`;
                    results += `â€¢ Opportunity: AI Learning Designer (+45% salary potential)\n`;
                    break;
                case 'hr':
                    results += `â€¢ AI Impact: 80% of recruitment will use AI screening by 2025\n`;
                    results += `â€¢ Key Tools: AI recruiting, performance analytics, sentiment analysis\n`;
                    results += `â€¢ Opportunity: AI People Analytics Specialist (+55% salary potential)\n`;
                    break;
                case 'technology':
                    results += `â€¢ AI Impact: Leading edge - AI integration in all products\n`;
                    results += `â€¢ Key Tools: ML frameworks, AI development platforms, automation\n`;
                    results += `â€¢ Opportunity: AI/ML Engineer (+60% salary potential)\n`;
                    break;
                case 'legal':
                    results += `â€¢ AI Impact: 50% of legal research now AI-assisted\n`;
                    results += `â€¢ Key Tools: Legal AI research, contract analysis, compliance automation\n`;
                    results += `â€¢ Opportunity: AI Legal Analyst (+40% salary potential)\n`;
                    break;
                default:
                    results += `â€¢ AI Impact: Cross-industry AI adoption accelerating rapidly\n`;
                    results += `â€¢ Key Tools: Industry-specific AI platforms emerging\n`;
                    results += `â€¢ Opportunity: AI Specialist in your field (+45% salary potential)\n`;
            }
            results += `\n`;

            // Experience-level customization
